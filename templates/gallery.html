<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{.Title}}</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
    <link rel="stylesheet" href="/static/css/output.css?v={{.CSSHash}}" />
      {{template "plausible" .}}
  </head>
  <body class="bg-bg text-fg font-sans antialiased min-h-screen">
    <div class="min-h-screen flex">

      <!-- Main content -->
      <div class="flex-1 min-w-0">
        <div class="min-h-screen flex flex-col">
      <header class="w-full max-w-6xl mx-auto px-12 py-16">
        <nav class="text-center">
          <h1>
            <a href="/" class="text-3xl md:text-4xl font-light">Pelican Art Gallery</a>
          </h1>
        </nav>
      </header>

      {{if .Categories}}
      <nav class="sticky top-0 z-20 w-full bg-bg border-b border-border" aria-label="Artwork categories">
        <div class="w-full max-w-6xl mx-auto px-12 py-4">
          <div class="overflow-x-auto scrollbar-hide">
            <div class="flex gap-3 justify-center w-max min-w-full mx-auto">
              {{range .Categories}}
              <a
                href="/gallery/category/{{.}}"
                class="flex-shrink-0 px-4 py-2 text-sm tracking-wide lowercase transition-colors duration-200 ease-out {{if eq $.Category .}}bg-fg text-bg font-bold{{else}}hover:bg-fg hover:text-bg{{end}}"
              >
                {{.}}
              </a>
              {{end}}
            </div>
          </div>
        </div>
      </nav>
      {{end}}

      <main class="flex-1 w-full max-w-6xl mx-auto px-6 pb-12">
        {{if .Artworks}}
        <div class="py-16">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-16">
            {{range .Artworks}}
            <div class="group relative">
              <a href="/group/{{.GroupID}}" class="block aspect-square overflow-hidden flex items-center justify-center"
                data-artwork-id="{{.ID}}" data-model="{{.Model}}">
                {{template "frame" .SVGContent}}
                <!-- Hover overlay at bottom -->
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 p-4">
                  <div class="text-center text-white">
                    <h3 class="text-lg font-bold">{{.Title}}</h3>
                    {{if .ArtistName}}<p class="text-sm">by {{.ArtistName}}</p>{{end}}
                    <p class="text-sm">{{modelName .Model}}</p>
                  </div>
                </div>
              </a>
            </div>
            {{end}}
          </div>
        </div>
        {{else}}
        <section class="flex flex-col items-center justify-center text-center py-20 space-y-8" aria-labelledby="empty-state-title">
          <div class="w-16 h-16 text-fg/20">
            <svg class="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
              <circle cx="8.5" cy="8.5" r="1.5" />
              <polyline points="21,15 16,10 5,21" />
            </svg>
          </div>
          <div class="space-y-4">
            <h2 id="empty-state-title" class="text-2xl font-bold">No artworks yet</h2>
            <p class="text-lg text-fg/70 max-w-md">Start creating some artwork to see them here!</p>
          </div>
          {{if .EditingEnabled}}
          <nav>
            <a
              href="/workshop"
              class="inline-flex items-center gap-3 px-6 py-3 bg-fg text-bg font-medium hover:bg-fg/90 transition-colors duration-200 ease-out"
              aria-label="Create your first artwork"
            >
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M12 5v14M5 12h14" />
              </svg>
              Create Your First Artwork
            </a>
          </nav>
          {{end}}
        </section>
        {{end}}
      </main>

      {{template "footer" .}}
        </div>
      </div>

    <nav class="fixed bottom-8 right-8 flex flex-col gap-3" aria-label="Quick actions">
      {{if .EditingEnabled}}
      <a
        href="/workshop"
        class="flex items-center justify-center w-14 h-14 bg-bg border border-border hover:bg-fg hover:text-bg transition-colors duration-200 ease-out shadow-lg"
        aria-label="Create new artwork"
      >
        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M12 5v14M5 12h14" />
        </svg>
      </a>
      {{end}}
    </nav>
  </body>
</html>
